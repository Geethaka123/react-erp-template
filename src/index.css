@import "tailwindcss";
@plugin "tailwindcss-animate";

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  
  --radius-lg: 0.5rem;
  --radius-md: 0.375rem;
  --radius-sm: 0.25rem;

  --animate-shimmer: shimmer 2s linear infinite;

  @keyframes shimmer {
    from { background-position: 0 0; }
    to { background-position: -200% 0; }
  }
}

@layer base {
  :root {
    --background: 210 40% 98%; /* Soft off-white */
    --foreground: 224 71.4% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 221.2 83.2% 53.3%; /* Modern Electric Blue */
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 250 95% 60%; /* Vibrant Indigo */
  }

  .dark {
    --background: 221 46% 12%;       /* Deepest Navy for main background */
    --foreground: 210 40% 98%;
    
    --card: 221 46% 17%;             /* Distinct Deep Navy for cards/surfaces */
    --card-foreground: 210 40% 98%;
    
    --popover: 221 46% 17%;
    --popover-foreground: 210 40% 98%;
    
    --primary: 217 91% 60%;         /* Vibrant blue for focus */
    --primary-foreground: 210 40% 98%;
    
    --secondary: 221 46% 20%;       /* Exact Deep Navy (#1C2B4B) */
    --secondary-foreground: 210 40% 98%;
    
    --muted: 221 46% 22%;           /* Slightly lighter for muted background */
    --muted-foreground: 215 20% 75%;
    
    --accent: 221 46% 25%;          /* Highlighted navy */
    --accent-foreground: 210 40% 98%;
    
    --border: 221 46% 28%;          /* Visible navy borders */
    --input: 221 46% 28%;
    --ring: 175 80% 50%;            /* Neon Cyan */
  }

}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground font-sans antialiased transition-colors duration-300;
  }
  
  /* Autofill styling fix */
  input:-webkit-autofill,
  input:-webkit-autofill:hover, 
  input:-webkit-autofill:focus, 
  input:-webkit-autofill:active {
      /* box-shadow: horizontal vertical blur spread color inset */
      -webkit-box-shadow: 0 0 0px 1000px hsl(var(--background)) inset !important;
      -webkit-text-fill-color: hsl(var(--foreground)) !important;
      transition: background-color 5000s ease-in-out 0s;
  }
  
  /* Additional specificity for dark mode to match theme if needed */
  .dark input:-webkit-autofill,
  .dark input:-webkit-autofill:hover, 
  .dark input:-webkit-autofill:focus, 
  .dark input:-webkit-autofill:active {
      -webkit-box-shadow: 0 0 0px 1000px hsl(var(--background)) inset !important;
      -webkit-text-fill-color: hsl(var(--foreground)) !important;
  }
}

@layer base {
  *, ::before, ::after {
    @apply transition-colors duration-200;
  }
}

@layer utilities {
  .glass {
    @apply bg-card/90 dark:bg-card/60 backdrop-blur-md border border-border shadow-sm;
  }
  .tech-border {
    @apply border border-border/50;
  }
  
  /* Icon Button Icon Animations */
  [data-size="icon"] svg {
    @apply transition-transform duration-300 ease-in-out;
  }

  .premium-toast {
    @apply !rounded-2xl !border !border-white/10 !bg-card/70 !backdrop-blur-2xl !shadow-[0_20px_50px_rgba(0,0,0,0.3)] !transition-all !duration-500 !p-4 !min-w-[350px] relative overflow-hidden;
  }

  .premium-toast::after {
    content: '';
    @apply absolute bottom-0 left-0 h-[3px] bg-primary w-full origin-left transition-transform duration-[4000ms] ease-linear;
    transform: scaleX(var(--progress, 0));
  }

  .premium-toast:hover {
    @apply !bg-card/80 !-translate-y-1 !shadow-[0_30px_60px_rgba(0,0,0,0.4)];
  }

  .premium-toast [data-title] {
    @apply !font-black !text-[0.9rem] !tracking-tight !text-foreground !mb-1;
  }

  .premium-toast [data-description] {
    @apply !text-[0.8rem] !text-muted-foreground/90 !leading-relaxed !font-medium;
  }

  .premium-toast [data-icon] {
    @apply !mr-4 !p-2 !rounded-xl !bg-foreground/5 !w-10 !h-10 !flex !items-center !justify-center !transition-all !duration-500;
  }

  .premium-toast:hover [data-icon] {
    @apply !bg-primary/20 !scale-110 !rotate-3;
  }

  .premium-toast [data-close-button] {
    @apply !bg-white/10 !border-none !text-foreground/80 !backdrop-blur-md !opacity-0 !transition-all !duration-300;
    top: 10px !important;
    right: 10px !important;
    left: auto !important;
    transform: none !important;
    width: 22px !important;
    height: 22px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .premium-toast:hover [data-close-button] {
    @apply !opacity-100;
  }
  
  .premium-toast [data-close-button]:hover {
    @apply !bg-white/20 !text-foreground !scale-110;
  }
}

/* View Transition API */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
  display: block;
}

::view-transition-old(root) {
  z-index: 1;
}

::view-transition-new(root) {
  z-index: 9999;
}

@keyframes ripple-expand {
  from {
    clip-path: circle(0px at var(--ripple-x) var(--ripple-y));
  }
  to {
    clip-path: circle(var(--ripple-r) at var(--ripple-x) var(--ripple-y));
  }
}
